HKI Architcture

â¸»

ğŸ”§ 1. System Overview

 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚  Scrapers  â”‚ â”€â”€â†’  â”‚  Ingestor   â”‚ â”€â”€â†’  â”‚   Vector DB   â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“                       â†“
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ NLP Pipeline â”‚ â”€â”€â†’   â”‚ Categorizer AI  â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â†“
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ Curator/Ranker â”‚
                                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â†“
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚ Hong Kong User Profiles â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â†“
                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                             â”‚ Final News Feed APIâ”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â¸»

2. Core Modules

âœ… Scraper Layer (Input)
	â€¢	Sources: HK01, Sing Tao, AM730, HKFP, InMedia, Facebook, IG (via tools like Instaloader or Graph API).
	â€¢	Format: Title, Body, Image, Timestamp, Author, Tags, Source.

âœ… Ingestor Layer
	â€¢	Deduplicates articles (based on source + title hash).
	â€¢	Stores raw content into Supabase or S3 + Postgres.

âœ… NLP Pipeline

Use a pre-tuned LLM pipeline or custom modules:

Task	Tool/Model
Text cleaning	langchain.text_splitter
Language detection	fasttext or custom regex
Translation (to EN for embedding)	Gemini Pro API / Google Translate API
Embedding	OpenAI Ada-002, Cohere, or MiniLM
Summarization	GPT-4, Gemini, or LLaMA2
Keyword extraction	KeyBERT, RAKE, or LLM chain
Entity & event detection	spaCy NER or LLM
Sentiment & bias analysis	Finetuned BERT or LLM-based classification

All data is indexed into a vector store like:
	â€¢	Weaviate, Qdrant, or Pinecone, storing embedding + metadata.

â¸»

3. Categorizer & Taxonomy Layer

Define a custom taxonomy relevant to Hong Kong readers:
	â€¢	ğŸ“° Topics: Politics, Housing, MTR/Traffic, Health, Education, Judiciary, Labour, Tech, Mainland, International
	â€¢	ğŸ” Meta tags: Urgency, Sensationalism, Public Interest, Press Freedom, Government Trust

Use zero-shot classification via:

const response = await openai.chat.completions.create({
  messages: [{ role: "user", content: "Classify this HK news article into one or more of the following categories: ..." }],
  ...
})

Optionally fine-tune a local BERT model using labeled data from HK01, Ming Pao, or annotated sets.

â¸»

4. Curator/Ranker Module

ğŸ“Š Criteria for Ranking:
	â€¢	Relevance to HK (via location/entity detection)
	â€¢	Virality potential (based on keywords, tone)
	â€¢	Freshness
	â€¢	Diversity of source/opinion
	â€¢	User preference alignment (collaborative filtering, if user data exists)

Ranking Techniques:
	â€¢	Hybrid ranker: combine rule-based + vector similarity + learned model
	â€¢	Reranker models: OpenAI reranker, Cohere Rerank, or fine-tuned BERT classifier

â¸»

5. User Modeling & Feedback

Implicit signals:
	â€¢	Reading time, click-through, scroll depth
	â€¢	Shared articles
	â€¢	Dismissed categories

Explicit signals:
	â€¢	â€œI want more like thisâ€ feedback
	â€¢	Category following / unfollowing
	â€¢	Language preference (Cantonese, Traditional Chinese, English)

This data updates the vector query context or fine-tunes the ranker per user.

â¸»

6. Final Feed API
	â€¢	Endpoint to return top 20 news in ranked order
	â€¢	Supports filtering (time, category, source)
	â€¢	SSR-friendly (Next.js / React Native for native apps)
	â€¢	Delivers both summarized and full article variants

â¸»

7. Deployment Plan

Layer	Tool
Scheduler	Vercel Cron / Supabase Edge Functions / Airflow
Database	Supabase (Postgres + Storage)
Vector DB	Qdrant (open-source, typescript SDK)
API	FastAPI / Next.js API Routes
Summarization	OpenAI, Claude, Gemini Pro APIs
App Hosting	Vercel / Railway / Render


â¸»

ğŸ§  Forward Thinking: Adaptation to Hong Kong Context
	â€¢	Tailor to local sensitivity: 23æ¢, court cases, protests
	â€¢	Entity-aware: recognize names like John Lee, Lam Cheng, Apple Daily
	â€¢	Code-switching: handle Chinese+English hybrid input/output
	â€¢	Geo-awareness: prioritize local district news for hyper-local feel

â¸»

